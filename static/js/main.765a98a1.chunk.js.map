{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.jsx","Servises/API/API.js","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","input","setInput","className","s","SearchForm","e","preventDefault","trim","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","axios","require","defaults","baseURL","ImageGalleryItem","card","webformatURL","id","tags","largeImageURL","openModal","onClick","src","alt","ImageGalleryItemImage","ImageGallery","cards","map","Button","LoaderEl","Loader","color","height","width","React","Component","Modal","img","description","closeModal","useEffect","handleEsc","code","window","addEventListener","removeEventListener","Overlay","currentTarget","statuses","App","loadMore","req","setReq","page","setPage","images","setImages","status","setStatus","showModal","setShowModal","modalImg","setModalImg","notLastPage","setNotLastPage","togleModal","descr","query","then","response","data","catch","error","console","log","API","hits","length","totalHits","scrollTo","top","document","documentElement","scrollHeight","behavior","request","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.765a98a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3YCQL\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__YX9Ve\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2r40V\",\"Modal\":\"Modal_Modal__1DIWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Qcrn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__25iLc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3OBbe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__vs3T2\",\"SearchForm\":\"Searchbar_SearchForm__19q_Q\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3hXwy\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3qTa2\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2CYSy\"};","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [input, setInput] = useState('');\n\n  const handleChange = e => {\n    setInput(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (input.trim('') !== '') {\n      onSubmit(input);\n      // this.setState({ input: '' });\n    }\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n          value={input}\n        />\n      </form>\n    </header>\n  );\n}\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst key = '23058122-31f355087b2f6a9d816f84625';\nexport default function API(query, page) {\n  return axios(\n    `/?q=${query.trim(\n      '',\n    )}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n    .then(function (response) {\n      const data = response.data;\n      return [data, 'resolved'];\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  // .then(() => {\n  //   if (page > 1) {\n  //     window.scrollTo({\n  //       top: document.documentElement.scrollHeight,\n  //       behavior: 'smooth',\n  //     });\n  //   }\n  // });\n}\n","import s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  card: { id, webformatURL, tags, largeImageURL },\n  openModal,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={e => openModal(largeImageURL, tags)}>\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n}\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ cards, openModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {cards.map(card => {\n        return <ImageGalleryItem card={card} key={card.id} openModal={openModal} />;\n      })}\n    </ul>\n  );\n}\n","import s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport React from 'react';\nimport s from './Loader.module.css';\n\nexport default class LoaderEl extends React.Component {\n  //other logic\n  render() {\n    return <Loader className={s.Loader} type=\"Grid\" color=\"#3746a6\" height={150} width={150} />;\n  }\n}\n","import { useEffect } from 'react';\nimport s from './Modal.module.css';\n\nexport default function Modal({ img, description, closeModal }) {\n  useEffect(() => {\n    function handleEsc(e) {\n      if (e.code !== 'Escape') {\n        return;\n      }\n      closeModal();\n    }\n\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  }, [closeModal]);\n\n  const handleByBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={handleByBackdropClick}>\n      <div className={s.Modal}>\n        <img src={img} alt={description} />\n      </div>\n    </div>\n  );\n}\n","import './App.css';\nimport { useState, useEffect } from 'react';\n\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport API from './Servises/API';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport LoaderEl from './Components/Loader';\nimport Modal from './Components/Modal/Modal';\n\nconst statuses = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function App() {\n  const [req, setReq] = useState('');\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState('mount');\n  const [showModal, setShowModal] = useState(false);\n  const [modalImg, setModalImg] = useState(null);\n\n  const [notLastPage, setNotLastPage] = useState(true);\n\n  const handleSubmit = request => {\n    if (req !== request) {\n      setImages([]);\n      setReq(request);\n      setPage(1);\n    }\n  };\n\n  useEffect(() => {\n    if (status === 'mount') {\n      setStatus(statuses.IDLE);\n      return;\n    }\n\n    setStatus(statuses.PENDING);\n    API(req, page).then(([data, status]) => {\n      setImages([...images, ...data.hits]);\n      if (images.length === data.totalHits) {\n        setNotLastPage(false);\n      }\n      console.log(notLastPage);\n      setStatus(status);\n      if (page > 1) {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [req, page]);\n\n  function togleModal(webformatURL, tags) {\n    setShowModal(!showModal);\n    setModalImg({ img: webformatURL, descr: tags });\n  }\n\n  let loadMore;\n  if (images.length >= 12) {\n    loadMore = true;\n  } else loadMore = false;\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSubmit} />\n      {status === statuses.RESOLVED && <ImageGallery cards={images} openModal={togleModal} />}\n      {status === statuses.PENDING && <LoaderEl />}\n      {status === statuses.REJECTED && <h2>Something went wrong. Please try again</h2>}\n      {loadMore && notLastPage && (\n        <Button\n          onClick={() => {\n            setPage(page + 1);\n          }}\n        />\n      )}\n      {showModal && (\n        <Modal img={modalImg.img} description={modalImg.descr} closeModal={togleModal} />\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}