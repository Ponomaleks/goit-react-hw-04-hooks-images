{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.jsx","Servises/API/API.js","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","input","handleChange","e","setState","target","value","handleSubmit","preventDefault","trim","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","axios","require","defaults","baseURL","API","query","page","setImages","then","response","data","hits","catch","error","console","log","ImageGalleryItem","card","webformatURL","id","tags","largeImageURL","openModal","onClick","src","alt","ImageGalleryItemImage","ImageGallery","cards","map","Button","LoaderEl","Loader","color","height","width","React","Modal","handleEsc","code","closeModal","handleByBackdropClick","currentTarget","window","addEventListener","removeEventListener","Overlay","img","description","statuses","App","req","images","status","showModal","request","searchImages","getImages","newImages","nexpPage","togleModal","modalImg","descr","prevProps","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","loadMore","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.783347d7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3YCQL\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__YX9Ve\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2r40V\",\"Modal\":\"Modal_Modal__1DIWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Qcrn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__25iLc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3OBbe\"};","import { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    input: '',\n  };\n\n  handleChange = e => {\n    this.setState({ input: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.input.trim('') !== '') {\n      this.props.onSubmit(this.state.input);\n      // this.setState({ input: '' });\n    }\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={this.state.input}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","const axios = require('axios');\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst key = '23058122-31f355087b2f6a9d816f84625';\nexport default function API(query, page, setImages) {\n  return axios(\n    `/?q=${query.trim(\n      '',\n    )}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n    .then(function (response) {\n      setImages(response.data.hits, 'resolved');\n    })\n    .catch(function (error) {\n      setImages([], 'rejected');\n      console.log(error);\n    });\n  // .then(() => {\n  //   if (page > 1) {\n  //     window.scrollTo({\n  //       top: document.documentElement.scrollHeight,\n  //       behavior: 'smooth',\n  //     });\n  //   }\n  // });\n}\n","import s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  card: { id, webformatURL, tags, largeImageURL },\n  openModal,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={e => openModal(largeImageURL, tags)}>\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n}\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ cards, openModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {cards.map(card => {\n        return <ImageGalleryItem card={card} key={card.id} openModal={openModal} />;\n      })}\n    </ul>\n  );\n}\n","import s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport React from 'react';\nimport s from './Loader.module.css';\n\nexport default class LoaderEl extends React.Component {\n  //other logic\n  render() {\n    return <Loader className={s.Loader} type=\"Grid\" color=\"#3746a6\" height={150} width={150} />;\n  }\n}\n","import { Component } from 'react';\nimport s from './Modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEsc);\n  }\n\n  handleEsc = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    this.props.closeModal();\n  };\n\n  handleByBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.handleByBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.img} alt={this.props.description} />\n        </div>\n      </div>\n    );\n  }\n}\n","import './App.css';\nimport { Component } from 'react';\n\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport API from './Servises/API';\nimport ImageGallery from './Components/ImageGallery';\nimport Button from './Components/Button';\nimport LoaderEl from './Components/Loader';\nimport Modal from './Components/Modal/Modal';\n\nconst statuses = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    req: '',\n    page: 1,\n    images: [],\n    status: statuses.IDLE,\n    showModal: false,\n  };\n\n  handleSubmit = request => {\n    if (this.state.req !== request) {\n      this.setState({ req: request, page: 1 });\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.req !== this.state.req) {\n      this.setState({ status: statuses.PENDING });\n      // this.setState({ page: 1 });\n      this.searchImages();\n      return;\n    }\n    if (prevState.page !== this.state.page) {\n      API(this.state.req, this.state.page, this.getImages);\n      console.log('increase page');\n    }\n    if ((this.state.page > 1) & !this.state.showModal) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    } else return;\n  }\n\n  searchImages = () => {\n    API(this.state.req, this.state.page, this.setImages);\n    console.log('fetch');\n  };\n\n  setImages = (images, status) => {\n    this.setState({ images: images, status: status });\n  };\n\n  getImages = (newImages, status) => {\n    this.setState({ images: [...this.state.images, ...newImages], status: status });\n  };\n\n  nexpPage = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  togleModal = (webformatURL, tags) => {\n    this.setState({\n      showModal: !this.state.showModal,\n      modalImg: { img: webformatURL, descr: tags },\n    });\n    // console.log(e);\n  };\n\n  render() {\n    let loadMore;\n    if (this.state.images.length >= 12) {\n      loadMore = true;\n    } else loadMore = false;\n\n    const { images, status } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSubmit} />\n        {status === statuses.RESOLVED && (\n          <ImageGallery cards={images} openModal={this.togleModal} />\n        )}\n        {status === statuses.PENDING && <LoaderEl />}\n        {status === statuses.REJECTED && <h2>Something went wrong. Please try again</h2>}\n        {loadMore && <Button onClick={this.nexpPage} />}\n        {this.state.showModal && (\n          <Modal\n            img={this.state.modalImg.img}\n            description={this.state.modalImg.descr}\n            closeModal={this.togleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__vs3T2\",\"SearchForm\":\"Searchbar_SearchForm__19q_Q\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3hXwy\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3qTa2\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2CYSy\"};"],"sourceRoot":""}